<!DOCTYPE html>
<html lang="pt-br">

<head>
  <meta charset="UTF-8">
  <title>Simulador de Robótica - Montagem</title>
  <link rel="stylesheet" href="style.css">
</head>

<body>
  <div id="painel">
    <img src="imgs/router.jpeg" data-type="router" class="miniatura" draggable="true" title="Roteador">
    <img src="imgs/raspberry.jpeg" data-type="pi" class="miniatura" draggable="true" title="Raspberry Pi">
    <img src="imgs/car-router.jpeg" data-type="car-router" class="miniatura" draggable="true" title="Carro + Roteador">
    <img src="imgs/rasp-car-rout.jpeg" data-type="car-router-pi" class="miniatura" draggable="true" title="Carro + Roteador + Pi">
  </div>
  <canvas id="cenario" width="800" height="600"></canvas>
  <div id="lixeira-container" style="position: absolute; display: none;"></div>
  <button id="proximo">Próximo</button>
  <script src="main.js"></script>
  <script>
    document.getElementById('proximo').onclick = function () {
      // Nomear e salvar componentes
      const contadores = { router: 0, pi: 0, 'car-router': 0, 'car-router-pi': 0 };
      const componentesNomeados = [];
      componentes.forEach(comp => {
        contadores[comp.tipo]++;
        let nome = '';
        if (comp.tipo === 'router') nome = `roteador${contadores[comp.tipo]}`;
        if (comp.tipo === 'pi') nome = `raspberry${contadores[comp.tipo]}`;
        if (comp.tipo === 'car-router') nome = `carRouter${contadores[comp.tipo]}`;
        if (comp.tipo === 'car-router-pi') nome = `carRouterRaspberry${contadores[comp.tipo]}`;
        componentesNomeados.push({ nome, tipo: comp.tipo, x: comp.x, y: comp.y });
      });
      localStorage.setItem('componentes', JSON.stringify(componentesNomeados));
      window.location.href = 'conexoes.html';
    };
  </script>
</body>

</html>